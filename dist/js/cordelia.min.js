/*!
 *   Cordelia color picker
 *   version: 1.0.1
 *    author: Cevad Tokatli <cevadtokatli@hotmail.com>
 *   website: http://cevadtokatli.com
 *    github: https://github.com/cevadtokatli/cordelia-react
 *   license: MIT
 */
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.Cordelia=r()}(this,function(){"use strict";var U="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(e,r){return e(r={exports:{}},r.exports),r.exports}var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var r=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(r).map(function(e){return r[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var t,o,n=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in t=Object(arguments[i]))c.call(t,a)&&(n[a]=t[a]);if(l){o=l(t);for(var s=0;s<o.length;s++)p.call(t,o[s])&&(n[o[s]]=t[o[s]])}}return n},t=Object.freeze({default:r,__moduleExports:r}),u=function(e){};var o=function(e,r,t,o,n,i,a,s){if(u(r),!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[t,o,n,i,a,s],p=0;(l=new Error(r.replace(/%s/g,function(){return c[p++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}},n=Object.freeze({default:o,__moduleExports:o}),i={},a=Object.freeze({default:i,__moduleExports:i});function s(e){return function(){return e}}var d=function(){};d.thatReturns=s,d.thatReturnsFalse=s(!1),d.thatReturnsTrue=s(!0),d.thatReturnsNull=s(null),d.thatReturnsThis=function(){return this},d.thatReturnsArgument=function(e){return e};var h=d,f=Object.freeze({default:h,__moduleExports:h}),g=t&&r||t,m=n&&o||n,b=a&&i||a,v=f&&h||f,z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},k=function(){function o(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,t){return r&&o(e.prototype,r),t&&o(e,t),e}}(),C=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},w=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)},_=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r},P=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)},E="function"==typeof Symbol&&Symbol.for,O=E?Symbol.for("react.element"):60103,j=E?Symbol.for("react.portal"):60106,S=E?Symbol.for("react.fragment"):60107,V=E?Symbol.for("react.strict_mode"):60108,A=E?Symbol.for("react.provider"):60109,D=E?Symbol.for("react.context"):60110,R=E?Symbol.for("react.async_mode"):60111,x=E?Symbol.for("react.forward_ref"):60112,M="function"==typeof Symbol&&Symbol.iterator;function N(e){for(var r=arguments.length-1,t="http://reactjs.org/docs/error-decoder.html?invariant="+e,o=0;o<r;o++)t+="&args[]="+encodeURIComponent(arguments[o+1]);m(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",t)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function T(e,r,t){this.props=e,this.context=r,this.refs=b,this.updater=t||L}function F(){}function I(e,r,t){this.props=e,this.context=r,this.refs=b,this.updater=t||L}T.prototype.isReactComponent={},T.prototype.setState=function(e,r){"object"!==(void 0===e?"undefined":z(e))&&"function"!=typeof e&&null!=e&&N("85"),this.updater.enqueueSetState(this,e,r,"setState")},T.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},F.prototype=T.prototype;var B=I.prototype=new F;B.constructor=I,g(B,T.prototype),B.isPureReactComponent=!0;var $={current:null},q=Object.prototype.hasOwnProperty,W={key:!0,ref:!0,__self:!0,__source:!0};function Y(e,r,t){var o=void 0,n={},i=null,a=null;if(null!=r)for(o in void 0!==r.ref&&(a=r.ref),void 0!==r.key&&(i=""+r.key),r)q.call(r,o)&&!W.hasOwnProperty(o)&&(n[o]=r[o]);var s=arguments.length-2;if(1===s)n.children=t;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];n.children=l}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===n[o]&&(n[o]=s[o]);return{$$typeof:O,type:e,key:i,ref:a,props:n,_owner:$.current}}function X(e){return"object"===(void 0===e?"undefined":z(e))&&null!==e&&e.$$typeof===O}var H=/\/+/g,K=[];function G(e,r,t,o){if(K.length){var n=K.pop();return n.result=e,n.keyPrefix=r,n.func=t,n.context=o,n.count=0,n}return{result:e,keyPrefix:r,func:t,context:o,count:0}}function J(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,K.length<10&&K.push(e)}function Q(e,r,t,o){var n=void 0===e?"undefined":z(e);"undefined"!==n&&"boolean"!==n||(e=null);var i=!1;if(null===e)i=!0;else switch(n){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case O:case j:i=!0}}if(i)return t(o,e,""===r?"."+Z(e,0):r),1;if(i=0,r=""===r?".":r+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=r+Z(n=e[a],a);i+=Q(n,s,t,o)}else if(null==e?s=null:s="function"==typeof(s=M&&e[M]||e["@@iterator"])?s:null,"function"==typeof s)for(e=s.call(e),a=0;!(n=e.next()).done;)i+=Q(n=n.value,s=r+Z(n,a++),t,o);else"object"===n&&N("31","[object Object]"===(t=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":t,"");return i}function Z(e,r){return"object"===(void 0===e?"undefined":z(e))&&null!==e&&null!=e.key?(t=e.key,o={"=":"=0",":":"=2"},"$"+(""+t).replace(/[=:]/g,function(e){return o[e]})):r.toString(36);var t,o}function ee(e,r){e.func.call(e.context,r,e.count++)}function re(e,r,t){var o=e.result,n=e.keyPrefix;e=e.func.call(e.context,r,e.count++),Array.isArray(e)?te(e,o,t,v.thatReturnsArgument):null!=e&&(X(e)&&(r=n+(!e.key||r&&r.key===e.key?"":(""+e.key).replace(H,"$&/")+"/")+t,e={$$typeof:O,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}),o.push(e))}function te(e,r,t,o,n){var i="";null!=t&&(i=(""+t).replace(H,"$&/")+"/"),r=G(r,i,o,n),null==e||Q(e,"",re,r),J(r)}var oe={Children:{map:function(e,r,t){if(null==e)return e;var o=[];return te(e,o,null,r,t),o},forEach:function(e,r,t){if(null==e)return e;r=G(null,null,r,t),null==e||Q(e,"",ee,r),J(r)},count:function(e){return null==e?0:Q(e,"",v.thatReturnsNull,null)},toArray:function(e){var r=[];return te(e,r,null,v.thatReturnsArgument),r},only:function(e){return X(e)||N("143"),e}},createRef:function(){return{current:null}},Component:T,PureComponent:I,createContext:function(e,r){return void 0===r&&(r=null),(e={$$typeof:D,_calculateChangedBits:r,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:A,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:x,render:e}},Fragment:S,StrictMode:V,unstable_AsyncMode:R,createElement:Y,cloneElement:function(e,r,t){null==e&&N("267",e);var o=void 0,n=g({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=r){void 0!==r.ref&&(a=r.ref,s=$.current),void 0!==r.key&&(i=""+r.key);var l=void 0;for(o in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),r)q.call(r,o)&&!W.hasOwnProperty(o)&&(n[o]=void 0===r[o]&&void 0!==l?l[o]:r[o])}if(1===(o=arguments.length-2))n.children=t;else if(1<o){l=Array(o);for(var c=0;c<o;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:O,type:e.type,key:i,ref:a,props:n,_owner:s}},createFactory:function(e){var r=Y.bind(null,e);return r.type=e,r},isValidElement:X,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:$,assign:g}},ne=Object.freeze({default:oe}),ie=ne&&oe||ne,ae=ie.default?ie.default:ie,se=Object.freeze({default:ae,__moduleExports:ae}),le=se&&ae||se,ce=e(function(e){e.exports=le});function pe(e){return function(){return e}}var ue=function(){};ue.thatReturns=pe,ue.thatReturnsFalse=pe(!1),ue.thatReturnsTrue=pe(!0),ue.thatReturnsNull=pe(null),ue.thatReturnsThis=function(){return this},ue.thatReturnsArgument=function(e){return e};var de=ue,he=Object.freeze({default:de,__moduleExports:de}),fe=function(e){};var ge=function(e,r,t,o,n,i,a,s){if(fe(r),!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[t,o,n,i,a,s],p=0;(l=new Error(r.replace(/%s/g,function(){return c[p++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}},me=Object.freeze({default:ge,__moduleExports:ge}),be="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ve=Object.freeze({default:be,__moduleExports:be}),ye=he&&de||he,ke=me&&ge||me,Ce=ve?be:ve,we=function(){function e(e,r,t,o,n,i){i!==Ce&&ke(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function r(){return e}var t={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r};return t.checkPropTypes=ye,t.PropTypes=t},_e=Object.freeze({default:we,__moduleExports:we}),Pe=_e&&we||_e,Ee=e(function(e){e.exports=Pe()}),Oe=e(function(e,r){e.exports=function(){function c(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,r=void 0,n=void 0,s=function(e,r){d[o]=e,d[o+1]=r,2===(o+=2)&&(n?n(h):v())},e="undefined"!=typeof window?window:void 0,i=e||{},a=i.MutationObserver||i.WebKitMutationObserver,l="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function u(){var e=setTimeout;return function(){return e(h,1)}}var d=new Array(1e3);function h(){for(var e=0;e<o;e+=2){var r=d[e],t=d[e+1];r(t),d[e]=void 0,d[e+1]=void 0}o=0}var f,g,m,b,v=void 0;function y(e,r){var t=this,o=new this.constructor(w);void 0===o[C]&&T(o);var n=t._state;if(n){var i=arguments[n-1];s(function(){return N(n,o,i,t._result)})}else x(t,o,e,r);return o}function k(e){if(e&&"object"===(void 0===e?"undefined":z(e))&&e.constructor===this)return e;var r=new this(w);return V(r,e),r}l?v=function(){return process.nextTick(h)}:a?(g=0,m=new a(h),b=document.createTextNode(""),m.observe(b,{characterData:!0}),v=function(){b.data=g=++g%2}):p?((f=new MessageChannel).port1.onmessage=h,v=function(){return f.port2.postMessage(0)}):v=void 0===e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(h)}:u()}catch(e){return u()}}():u();var C=Math.random().toString(36).substring(2);function w(){}var _=void 0,P=1,E=2,O={error:null};function j(e){try{return e.then}catch(e){return O.error=e,O}}function S(e,r,t){var o,n,i,a;r.constructor===e.constructor&&t===y&&r.constructor.resolve===k?(i=e,(a=r)._state===P?D(i,a._result):a._state===E?R(i,a._result):x(a,void 0,function(e){return V(i,e)},function(e){return R(i,e)})):t===O?(R(e,O.error),O.error=null):void 0===t?D(e,r):c(t)?(o=r,n=t,s(function(r){var t=!1,e=function(e,r,t,o){try{e.call(r,t,o)}catch(e){return e}}(n,o,function(e){t||(t=!0,o!==e?V(r,e):D(r,e))},function(e){t||(t=!0,R(r,e))},r._label);!t&&e&&(t=!0,R(r,e))},e)):D(e,r)}function V(e,r){var t,o;e===r?R(e,new TypeError("You cannot resolve a promise with itself")):(o=void 0===(t=r)?"undefined":z(t),null===t||"object"!==o&&"function"!==o?D(e,r):S(e,r,j(r)))}function A(e){e._onerror&&e._onerror(e._result),M(e)}function D(e,r){e._state===_&&(e._result=r,e._state=P,0!==e._subscribers.length&&s(M,e))}function R(e,r){e._state===_&&(e._state=E,e._result=r,s(A,e))}function x(e,r,t,o){var n=e._subscribers,i=n.length;e._onerror=null,n[i]=r,n[i+P]=t,n[i+E]=o,0===i&&e._state&&s(M,e)}function M(e){var r=e._subscribers,t=e._state;if(0!==r.length){for(var o=void 0,n=void 0,i=e._result,a=0;a<r.length;a+=3)o=r[a],n=r[a+t],o?N(t,o,n,i):n(i);e._subscribers.length=0}}function N(e,r,t,o){var n=c(t),i=void 0,a=void 0,s=void 0,l=void 0;if(n){if((i=function(e,r){try{return e(r)}catch(e){return O.error=e,O}}(t,o))===O?(l=!0,a=i.error,i.error=null):s=!0,r===i)return void R(r,new TypeError("A promises callback cannot return that same promise."))}else i=o,s=!0;r._state!==_||(n&&s?V(r,i):l?R(r,a):e===P?D(r,i):e===E&&R(r,i))}var L=0;function T(e){e[C]=L++,e._state=void 0,e._result=void 0,e._subscribers=[]}var F=function(){function e(e,r){this._instanceConstructor=e,this.promise=new e(w),this.promise[C]||T(this.promise),t(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&D(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var r=0;this._state===_&&r<e.length;r++)this._eachEntry(e[r],r)},e.prototype._eachEntry=function(r,e){var t=this._instanceConstructor,o=t.resolve;if(o===k){var n=j(r);if(n===y&&r._state!==_)this._settledAt(r._state,e,r._result);else if("function"!=typeof n)this._remaining--,this._result[e]=r;else if(t===I){var i=new t(w);S(i,r,n),this._willSettleAt(i,e)}else this._willSettleAt(new t(function(e){return e(r)}),e)}else this._willSettleAt(o(r),e)},e.prototype._settledAt=function(e,r,t){var o=this.promise;o._state===_&&(this._remaining--,e===E?R(o,t):this._result[r]=t),0===this._remaining&&D(o,this._result)},e.prototype._willSettleAt=function(e,r){var t=this;x(e,void 0,function(e){return t._settledAt(P,r,e)},function(e){return t._settledAt(E,r,e)})},e}(),I=function(){function r(e){this[C]=L++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof r?function(r,e){try{e(function(e){V(r,e)},function(e){R(r,e)})}catch(e){R(r,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return r.prototype.catch=function(e){return this.then(null,e)},r.prototype.finally=function(r){var t=this.constructor;return this.then(function(e){return t.resolve(r()).then(function(){return e})},function(e){return t.resolve(r()).then(function(){throw e})})},r}();return I.prototype.then=y,I.all=function(e){return new F(this,e).promise},I.race=function(n){var i=this;return t(n)?new i(function(e,r){for(var t=n.length,o=0;o<t;o++)i.resolve(n[o]).then(e,r)}):new i(function(e,r){return r(new TypeError("You must pass an array to race."))})},I.resolve=k,I.reject=function(e){var r=new this(w);return R(r,e),r},I._setScheduler=function(e){n=e},I._setAsap=function(e){s=e},I._asap=s,I.polyfill=function(){var e=void 0;if(void 0!==U)e=U;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=e.Promise;if(r){var t=null;try{t=Object.prototype.toString.call(r.resolve())}catch(e){}if("[object Promise]"===t&&!r.cast)return}e.Promise=I},I.Promise=I}()}),je=Object.freeze({default:Oe,__moduleExports:Oe}),Se=((je&&Oe||je).polyfill(),function(e){function i(){var e,r,g;y(this,i);for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];return(r=g=_(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).setPosition=function(){if(g.props.color)if(0==g.props.pickerStyle)var e=g.props.rgbaColor,r=e.r,t=e.g,o=e.b,n=g.props.picker.height,i=Math.max(r,t,o),a=Math.abs(Math.round(n/255*i-n)),s=Math.min(r,t,o),l=(h=Math.abs(Math.round(n/255*s-n))-Math.abs(Math.round(a/i*s)))-g.props.picker.subtractedValue,c=a-g.props.picker.subtractedValue;else{var p=g.props.hslColor,u=p.h,d=p.s,h=(p.l,n=g.props.picker.height,Math.round(n/360*u));a=Math.abs(Math.round(n/100*d-n)),l=h-g.props.picker.subtractedValue,c=a-g.props.picker.subtractedValue}else{var f=-1*g.props.picker.subtractedValue;l=f,c=f}g.dragger.style.left=l+"px",g.dragger.style.top=c+"px"},_(g,r)}return w(i,e),k(i,[{key:"componentDidMount",value:function(){this.setPosition()}},{key:"componentDidUpdate",value:function(){this.props.pickerUpdate&&this.setPosition()}},{key:"render",value:function(){var r=this;return ce.createElement("div",{ref:function(e){return r.container=e},className:"cdp-major-picker",onMouseDown:function(e){return r.props.pickerClicked(e,"major")},onTouchStart:function(e){return r.props.pickerClicked(e,"major")}},0==this.props.pickerStyle&&ce.createElement("div",{ref:function(e){return r.backgroundElm=e},className:"cdp-major-picker-gradient cdp-background-type-current-color",style:{background:"hsl("+this.props.hslColor.h+", 100%, 50%)"}},ce.createElement("div",{className:"cdp-major-picker-gradient cdp-gradient-type-lr-white"},ce.createElement("div",{className:"cdp-major-picker-gradient cdp-gradient-type-bt-black cdp-last-gradient-child"},ce.createElement("div",{ref:function(e){return r.dragger=e},className:"cdp-major-dragger "+(this.props.isDark?"cdp-dark":"")}))))," ",1==this.props.pickerStyle&&ce.createElement("div",{className:"cdp-major-picker-gradient cdp-gradient-type-lr-colorful"},ce.createElement("div",{className:"cdp-major-picker-gradient cdp-gradient-type-bt-gray cdp-last-gradient-child"},ce.createElement("div",{ref:function(e){return r.dragger=e},className:"cdp-major-dragger"}))))}}]),i}(ce.Component)),Ve=function(e){function a(){var e,r,o;y(this,a);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=o=_(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(n)))).setPosition=function(){var e=(o.props.picker.width-2*o.props.picker.subtractedValue)/2;if(o.props.color)if(0==o.props.pickerStyle)var r=Math.round(o.props.picker.height/360*o.props.hslColor.h)-o.props.picker.subtractedValue;else{var t=o.props.picker.height;r=Math.abs(Math.round(t/100*o.props.hslColor.l-t))-o.props.picker.subtractedValue}else r=-1*o.props.picker.subtractedValue;o.dragger.style.left=e+"px",o.dragger.style.top=r+"px"},_(o,r)}return w(a,e),k(a,[{key:"componentDidMount",value:function(){this.setPosition()}},{key:"componentDidUpdate",value:function(){this.props.pickerUpdate&&this.setPosition()}},{key:"render",value:function(){var r=this,e=this.props.hslColor,t=e.h,o=e.s;return this.props.color||(t=0,o=100),ce.createElement("div",{ref:function(e){return r.container=e},className:"cdp-minor-picker",onMouseDown:function(e){return r.props.pickerClicked(e,"minor")},onTouchStart:function(e){return r.props.pickerClicked(e,"minor")}},0==this.props.pickerStyle&&ce.createElement("div",{className:"cdp-minor-picker-gradient cdp-gradient-type-tb-colorful cdp-last-gradient-child"},ce.createElement("div",{ref:function(e){return r.dragger=e},className:"cdp-minor-dragger"}))," ",1==this.props.pickerStyle&&ce.createElement("div",{ref:function(e){return r.backgroundElm=e},className:"cdp-minor-picker-gradient cdp-gradient-type-bt-white-current-color-black cdp-last-gradient-child",style:{background:"linear-gradient(to bottom, hsl(0, 100%, 100%), hsl("+t+", "+o+"%, 50%), hsl(0,0%,0%))"}},ce.createElement("div",{ref:function(e){return r.dragger=e},className:"cdp-minor-dragger "+(this.props.isDark?"cdp-dark":"")})))}}]),a}(ce.Component),Ae=function(e){function a(){var e,r,t;y(this,a);for(var o=arguments.length,n=Array(o),i=0;i<o;i++)n[i]=arguments[i];return(r=t=_(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(n)))).setPosition=function(){var e=(t.props.picker.width-2*t.props.picker.subtractedValue)/2;if(t.props.color)var r=Math.round(t.props.picker.height/100*(100*t.props.rgbaColor.a))-t.props.picker.subtractedValue;else r=t.props.picker.height-t.props.picker.subtractedValue;t.dragger.style.left=e+"px",t.dragger.style.top=r+"px"},_(t,r)}return w(a,e),k(a,[{key:"componentDidMount",value:function(){this.setPosition()}},{key:"componentDidUpdate",value:function(){this.props.pickerUpdate&&this.setPosition()}},{key:"render",value:function(){var r=this,e=this.props.isDark;this.props.rgbaColor.a<.25&&(e=!0);var t=this.props.rgbaColor,o=t.r,n=t.g,i=t.b;t.a;return this.props.color||(i=n=o=255),ce.createElement("div",{ref:function(e){return r.container=e},className:"cdp-opacity-picker",onMouseDown:function(e){return r.props.pickerClicked(e,"opacity")},onTouchStart:function(e){return r.props.pickerClicked(e,"opacity")}},ce.createElement("div",{className:"cdp-opacity-picker-gradient cdp-background-type-opacity"},ce.createElement("div",{ref:function(e){return r.backgroundElm=e},className:"cdp-opacity-picker-gradient cdp-gradient-type-bt-current-color cdp-last-gradient-child",style:{background:"linear-gradient(to top, rgba("+o+", "+n+", "+i+", 1), rgba("+o+", "+n+", "+i+", 0))"}},ce.createElement("div",{ref:function(e){return r.dragger=e},className:"cdp-opacity-dragger "+(e?"cdp-dark":"")}))))}}]),a}(ce.Component),De=function(){function e(){y(this,e)}return k(e,null,[{key:"rgbTohex",value:function(e){return("#"+("0"+parseInt(e.r,10).toString(16)).slice(-2)+("0"+parseInt(e.g,10).toString(16)).slice(-2)+("0"+parseInt(e.b,10).toString(16)).slice(-2)).toUpperCase()}},{key:"rgbTohsl",value:function(e){var r=e.r/255,t=e.g/255,o=e.b/255,n=Math.max(r,t,o),i=Math.min(r,t,o),a=(n+i)/2,s=0,l=0;return n!=i&&(s=a<.5?(n-i)/(n+i):(n-i)/(2-n-i),l=r==n?(t-o)/(n-i):t==n?2+(o-r)/(n-i):4+(r-t)/(n-i)),a=Math.round(100*a),s=Math.round(100*s),(l=Math.round(60*l))<0&&(l+=360),{h:l,s:s,l:a}}}]),e}(),Re=function(e){function r(e){y(this,r);var O=_(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return O.pickerClicked=function(e,r){O.dragStatus=r,document.body.classList.add("cdp-dragging-active"),0!=O.props.pickerStyle||"minor"==r||O.props.color?1!=O.props.pickerStyle||"major"==r||O.props.color||O.setColorWithPosition({x:O.majorPicker.dragger.offsetLeft+O.props.majorPicker.subtractedValue,y:O.majorPicker.dragger.offsetTop+O.props.majorPicker.subtractedValue},"major"):O.setColorWithPosition({x:O.minorPicker.dragger.offsetLeft+O.props.minorPicker.subtractedValue,y:O.minorPicker.dragger.offsetTop+O.props.minorPicker.subtractedValue},"minor"),O.toggleDraggerListeners(!0),O.pickerMoved(e.nativeEvent)},O.pickerMoved=function(e){var r;r="major"==O.dragStatus?O.newPosition(e,O.majorPicker):"minor"==O.dragStatus?O.newPosition(e,O.minorPicker):O.newPosition(e,O.opacityPicker),O.setColorWithPosition(r,O.dragStatus,!0),e.preventDefault()},O.newPosition=function(e,r){var t=r.props.picker,o=r.container.getBoundingClientRect(),n=e.clientX?e.clientX:e.pageX-window.pageXOffset,i=e.clientY?e.clientY:e.pageY-window.pageYOffset,a=n-(o.left+t.subtractedValue),s=i-(o.top+t.subtractedValue);return a<-t.subtractedValue?a=-t.subtractedValue:a>t.width-t.subtractedValue&&(a=t.width-t.subtractedValue),s<-t.subtractedValue?s=-t.subtractedValue:s>t.height-t.subtractedValue&&(s=t.height-t.subtractedValue),r.dragger.style.left=a+"px",r.dragger.style.top=s+"px",{x:a+t.subtractedValue,y:s+t.subtractedValue}},O.setColorWithPosition=function(e,r){var t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=O.rgbColor;if("major"==r)if(0==O.props.pickerStyle){o=[o.r,o.g,o.b];for(var n,i,a,s=O.props.majorPicker.height,l=0;l<o.length;l++){var c=o[l];255==c?a=Math.abs(Math.round(255/s*e.y-255)):(n=Math.round((s-e.y)*(c/s)),i=Math.round((s-e.x)*((255-c)/s)),a=n+Math.abs(Math.round((s-e.y)*(i/s)))),o[l]=a}O.rgbaColor={r:o[0],g:o[1],b:o[2],a:O.rgbaColor.a};var p=O.rgbaColor,u=p.r,d=p.g,h=p.b,f=De.rgbTohsl(O.rgbColor).h;O.majorPicker.backgroundElm.style.background="hsl("+f+", 100%, 50%)",O.props.allowOpacity&&(O.opacityPicker.backgroundElm.style.background="linear-gradient(to top, rgba("+u+", "+d+", "+h+", 1), rgba("+u+", "+d+", "+h+", 0))"),O.props.setDraggingColor(O.rgbaColor,t)}else{s=O.props.majorPicker.height,f=Math.round(e.x*(360/s));var g=Math.abs(Math.round(e.y*(100/s))-100);O.hslColor.h=f,O.hslColor.s=g;var m=O.minorPicker.dragger.offsetLeft+O.props.minorPicker.subtractedValue,b=O.minorPicker.dragger.offsetTop+O.props.minorPicker.subtractedValue;O.setColorWithPosition({x:m,y:b},"minor",t)}else if("minor"==r)if(0==O.props.pickerStyle){s=O.props.minorPicker.height,f=Math.round(e.y*(360/s));o=O.props.getRgbaValue("hsl("+f+", 100%, 50%)"),O.rgbColor=o,O.hslColor.h=f;var v=O.majorPicker.dragger.offsetLeft+O.props.majorPicker.subtractedValue,y=O.majorPicker.dragger.offsetTop+O.props.majorPicker.subtractedValue;O.setColorWithPosition({x:v,y:y},"major",t)}else{s=O.props.minorPicker.height;var k=Math.abs(Math.round(e.y*(100/s))-100),C=O.props.getRgbaValue("hsl("+O.hslColor.h+", "+O.hslColor.s+"%, "+k+"%)");u=C.r,d=C.g,h=C.b;O.hslColor.l=k,O.rgbaColor={r:u,g:d,b:h,a:O.rgbaColor.a};var w=O.hslColor;f=w.h,g=w.s;O.minorPicker.backgroundElm.style.background="linear-gradient(to bottom, hsl(0, 100%, 100%), hsl("+f+", "+g+"%, 50%), hsl(0, 0%, 0%))",O.props.allowOpacity&&(O.opacityPicker.backgroundElm.style.background="linear-gradient(to top, rgba("+u+", "+d+", "+h+", 1), rgba("+u+", "+d+", "+h+", 0))"),O.props.setDraggingColor(O.rgbaColor,t)}else if("opacity"==r){var _=O.rgbaColor,P=(u=_.r,d=_.g,h=_.b,s=O.props.opacityPicker.height,Math.round(100/s*e.y)/100);O.rgbaColor={r:u,g:d,b:h,a:P};var E=O.hslColor;f=E.h,g=E.s;0==O.props.pickerStyle?O.majorPicker.backgroundElm.style.background="hsl("+f+", 100%, 50%)":O.minorPicker.backgroundElm.style.background="linear-gradient(to bottom, hsl(0, 100%, 100%), hsl("+f+", "+g+"%, 50%), hsl(0, 0%, 0%))",O.opacityPicker.backgroundElm.style.background="linear-gradient(to top, rgba("+u+", "+d+", "+h+", 1), rgba("+u+", "+d+", "+h+", 0))",O.props.setDraggingColor(O.rgbaColor,t)}},O.pickerReleased=function(){document.body.classList.remove("cdp-dragging-active"),O.props.setColor(O.rgbaColor,!1),O.toggleDraggerListeners(!1)},O.toggleDraggerListeners=function(e){e?(document.addEventListener("mousemove",O.pickerMoved),document.addEventListener("touchmove",O.pickerMoved),document.addEventListener("mouseup",O.pickerReleased),document.addEventListener("touchend",O.pickerReleased)):(document.removeEventListener("mousemove",O.pickerMoved),document.removeEventListener("touchmove",O.pickerMoved),document.removeEventListener("mouseup",O.pickerReleased),document.removeEventListener("touchend",O.pickerReleased))},O.rgbaColor=C({},O.props.rgbaColor),O.rgbColor=C({},O.props.rgbColor),O.hslColor=C({},O.props.hslColor),O.dragStatus=null,O}return w(r,e),k(r,[{key:"componentWillReceiveProps",value:function(e){e.pickerUpdate&&(this.rgbaColor=C({},e.rgbaColor),e.color?(this.hslColor=De.rgbTohsl(e.rgbaColor),this.rgbColor=this.props.getRgbaValue("hsl("+this.hslColor.h+", 100%, 50%)")):(this.rgbColor={r:255,g:0,b:0},this.hslColor={h:0,s:0,l:0}),this.props.pickerUpdated())}},{key:"render",value:function(){var r=this;return ce.createElement("div",{className:"cdp-picker-container"},ce.createElement(Se,{ref:function(e){return r.majorPicker=e},color:this.props.color,rgbaColor:this.rgbaColor,rgbColor:this.rgbColor,hslColor:this.hslColor,isDark:this.props.isDark,picker:this.props.majorPicker,pickerStyle:this.props.pickerStyle,pickerClicked:this.pickerClicked,pickerUpdate:this.props.pickerUpdate}),ce.createElement(Ve,{ref:function(e){return r.minorPicker=e},color:this.props.color,rgbaColor:this.rgbaColor,hslColor:this.hslColor,isDark:this.props.isDark,picker:this.props.minorPicker,pickerStyle:this.props.pickerStyle,pickerClicked:this.pickerClicked,pickerUpdate:this.props.pickerUpdate}),this.props.allowOpacity&&ce.createElement(Ae,{ref:function(e){return r.opacityPicker=e},color:this.props.color,rgbaColor:this.rgbaColor,isDark:this.props.isDark,picker:this.props.opacityPicker,pickerClicked:this.pickerClicked,pickerUpdate:this.props.pickerUpdate}))}}]),r}(ce.Component),xe=function(e){function r(){return y(this,r),_(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return w(r,e),k(r,[{key:"render",value:function(){return ce.createElement("div",{className:"cdp-initial-color "+(this.props.isDark?"cdp-dark":""),style:{background:this.props.initialColor},onClick:this.props.setInitialColorAsColor},ce.createElement("i",{className:"cdp-icons"}))}}]),r}(ce.Component),Me=function(e){function r(e){y(this,r);var t=_(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.keyDown=function(e){13==e.keyCode&&t.changedValue(e)},t.changedValue=function(e){if(""!=t.state.color.trim()&&t.state.color!=t.props.color){var r=t.props.getRgbaValue(t.state.color);t.props.setColor(r)}},t.onChange=function(e){t.setState({color:e.target.value})},t.state={color:t.props.color},t}return w(r,e),k(r,[{key:"componentWillReceiveProps",value:function(e){this.props.color!=e.color&&this.setState({color:e.color?e.color:""})}},{key:"render",value:function(){return ce.createElement("input",{type:"text",spellCheck:!1,className:"cdp-current-color "+(this.props.isDark?"cdp-dark":""),value:this.state.color?this.state.color:"",onChange:this.onChange,onKeyDown:this.keyDown,onBlur:this.changedValue})}}]),r}(ce.Component),Ne=function(e){function r(){return y(this,r),_(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return w(r,e),k(r,[{key:"render",value:function(){return ce.createElement("div",{className:"cdp-clear-color "+(this.props.isDark?"cdp-dark":""),onClick:this.props.clearColor},ce.createElement("i",{className:"cdp-icons"}))}}]),r}(ce.Component),Le=function(e){function r(){return y(this,r),_(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return w(r,e),k(r,[{key:"render",value:function(){var e=this.props.isDark;return this.props.rgbaColor.a<.4&&(e=!0),ce.createElement("div",{className:"cdp-current-color-console",style:{background:this.props.color?this.props.color:"transparent"}},this.props.showColorValue&&ce.createElement(Me,{color:this.props.color,isDark:e,setColor:this.props.setColor,getRgbaValue:this.props.getRgbaValue}),this.props.allowClearColor&&ce.createElement(Ne,{isDark:e,clearColor:this.props.clearColor}))}}]),r}(ce.Component),Te=function(e){function r(){return y(this,r),_(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return w(r,e),k(r,[{key:"render",value:function(){return ce.createElement("div",{className:"cdp-color-console-container cdp-background-type-opacity"},this.props.showColorValue&&ce.createElement(xe,{initialColor:this.props.initialColor,isDark:this.props.isDarkInitial,setInitialColorAsColor:this.props.setInitialColorAsColor}),ce.createElement(Le,{color:this.props.color,isDark:this.props.isDarkCurrent,rgbaColor:this.props.rgbaColor,showColorValue:this.props.showColorValue,allowClearColor:this.props.allowClearColor,setColor:this.props.setColor,clearColor:this.props.clearColor,getRgbaValue:this.props.getRgbaValue}))}}]),r}(ce.Component),Fe=function(e){function r(){return y(this,r),_(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return w(r,e),k(r,[{key:"render",value:function(){return ce.createElement("div",{className:"cdp-button-container"},ce.createElement("div",{className:"cdp-button","cdp-function":"save",onClick:this.props.save},ce.createElement("i",{className:"cdp-icons"}),"SAVE"),ce.createElement("div",{className:"cdp-button","cdp-function":"cancel",onClick:this.props.cancel},ce.createElement("i",{className:"cdp-icons"}),"CANCEL"))}}]),r}(ce.Component),Ie=function(e){function r(){return y(this,r),_(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return w(r,e),k(r,[{key:"render",value:function(){var e=!(!this.props.showColorValue&&!this.props.allowClearColor);return ce.createElement("div",{className:"cdp-console-container "+(e?this.props.showColorValue?this.props.allowClearColor?"":"cdp-clear-color-non-showing":"cdp-current-color-non-showing":"cdp-color-console-non-showing")},e&&ce.createElement(Te,{color:this.props.color,initialColor:this.props.initialColor,isDarkCurrent:this.props.isDarkCurrent,isDarkInitial:this.props.isDarkInitial,rgbaColor:this.props.rgbaColor,showColorValue:this.props.showColorValue,allowClearColor:this.props.allowClearColor,setColor:this.props.setColor,setInitialColorAsColor:this.props.setInitialColorAsColor,clearColor:this.props.clearColor,getRgbaValue:this.props.getRgbaValue}),this.props.showButtons&&ce.createElement(Fe,{save:this.props.save,cancel:this.props.cancel}))}}]),r}(ce.Component),Ue=function(e){function r(){return y(this,r),_(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return w(r,e),k(r,[{key:"render",value:function(){return ce.createElement("div",{className:"cdp-arrow-div"},ce.createElement("i",{className:"cdp-icons",onClick:this.props.togglePalette}))}}]),r}(ce.Component),ze=function(e){function r(){return y(this,r),_(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return w(r,e),k(r,[{key:"render",value:function(){return ce.createElement("div",{className:"cdp-palette-add-element",onClick:this.props.addColor},ce.createElement("i",{className:"cdp-icons"}))}}]),r}(ce.Component),Be=function(e){function a(){var e,r,i;y(this,a);for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];return(r=i=_(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o)))).setColor=function(){var e=i.props.color,r=e.r,t=e.g,o=e.b,n=e.a;i.props.setColor({r:r,g:t,b:o,a:n})},_(i,r)}return w(a,e),k(a,[{key:"render",value:function(){return ce.createElement("div",{className:"cdp-palette-element cdp-background-type-opacity"},ce.createElement("div",{style:{background:this.props.color.value},onClick:this.setColor}))}}]),a}(ce.Component),$e=function(e){function r(e){y(this,r);var a=_(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return a.addColor=function(){if(a.props.color){var e=a.props.rgbaColor,r=e.r,t=e.g,o=e.b,n=e.a,i="rgba("+r+", "+t+", "+o+", "+n+")";a.state.colors.find(function(e){return e.value==i})||a.setState({colors:[].concat(P(a.state.colors),[{value:i,r:r,g:t,b:o,a:n}])})}},a.state={colors:[]},a}return w(r,e),k(r,[{key:"componentDidMount",value:function(){var s=this,l=[];this.props.paletteColors.forEach(function(e){var r=s.props.getRgbaValue(e),t=r.r,o=r.g,n=r.b,i=r.a,a="rgba("+t+", "+o+", "+n+", "+i+")";l.push({value:a,r:t,g:o,b:n,a:i})}),this.setState({colors:l})}},{key:"render",value:function(){var r=this;return ce.createElement("div",{className:"cdp-palette"},this.props.allowPaletteAddColor&&ce.createElement(ze,{addColor:this.addColor}),this.state.colors.map(function(e){return ce.createElement(Be,{key:e.value,color:e,setColor:r.props.setColor})}))}}]),r}(ce.Component),qe=function(){function e(){y(this,e)}return k(e,null,[{key:"isDark",value:function(e){var r=e.r,t=e.g,o=e.b;return 125<Math.round((299*r+587*t+114*o)/1e3)}},{key:"opacityAnimation",value:function(c,p){return new Promise(function(i){var a=c.getAttribute("style")?c.getAttribute("style").replace(/opacity[^;]+;?/g,""):null,s=null,l=100;p?(c.classList.remove("cdp-hidden"),c.style.opacity=0):c.style.opacity=1,window.requestAnimationFrame(function e(r){s||(s=r||new Date.getTime);var t=r-s,o=t/l;if(o=Math.min(o,1),t<l){var n=o;p||(n=Math.abs(o-1)),c.style.opacity=n,window.requestAnimationFrame(e)}else p||c.classList.add("cdp-hidden"),c.setAttribute("style",a),i()})})}}]),e}(),We=function(e){function t(e){y(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={open:r.props.paletteOpen},r}return w(t,e),k(t,[{key:"componentDidUpdate",value:function(){var e=this;if(this.props.paletteOpen!=this.state.open){var r=this.props.paletteOpen;qe.opacityAnimation(this.elm,r).then(function(){e.setState({open:r})})}}},{key:"render",value:function(){var r=this;return ce.createElement("div",{ref:function(e){return r.elm=e},className:"cdp-palette-container "+(this.state.open?"":"cdp-hidden")},ce.createElement("hr",{className:"cdp-palette-line"}),ce.createElement($e,{color:this.props.color,rgbaColor:this.props.rgbaColor,paletteColors:this.props.paletteColors,allowPaletteAddColor:this.props.allowPaletteAddColor,getRgbaValue:this.props.getRgbaValue,setColor:this.props.setColor}))}}]),t}(ce.Component),Ye=function(e){function r(e){y(this,r);var p=_(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return p.getRgbaValue=function(e){p.ref.rgbaColor.style.background=e;var r=window.getComputedStyle(p.ref.rgbaColor,!1,null).getPropertyValue("background-color").replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(",");return{r:parseInt(r[0]),g:parseInt(r[1]),b:parseInt(r[2]),a:r[3]?parseFloat(r[3]):1}},p.convertColor=function(e){var r=e.r,t=e.g,o=e.b,n=e.a;if(1!=n&&p.props.allowOpacity){if("hsl"!=p.props.colorFormat&&"hsla"!=p.props.colorFormat)return{value:"rgba("+r+", "+t+", "+o+", "+n+")",r:r,g:t,b:o,a:n};var i=De.rgbTohsl({r:r,g:t,b:o});return{value:"hsla("+(s=i.h)+", "+(l=i.s)+"%, "+(c=i.l)+"%, "+n+")",h:s,s:l,l:c,a:n}}if("hex"==p.props.colorFormat)return{value:De.rgbTohex({r:r,g:t,b:o})};if("rgb"==p.props.colorFormat)return{value:"rgb("+r+", "+t+", "+o+")",r:r,g:t,b:o};if("rgba"==p.props.colorFormat)return{value:"rgba("+r+", "+t+", "+o+", 1)",r:r,g:t,b:o,a:1};var a=De.rgbTohsl({r:r,g:t,b:o}),s=a.h,l=a.s,c=a.l;return"hsl"==p.props.colorFormat?{value:"hsl("+s+", "+l+"%, "+c+"%)",h:s,s:l,l:c}:{value:"hsla("+s+", "+l+"%, "+c+"%, 1)",h:s,s:l,l:c,a:1}},p.setColor=function(e){var r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],t=p.convertColor(e),o=qe.isDark(e);p.state.color!=t.value&&(p.color=t.value,p.rgbaColor=e,p.setState({color:t.value,rgbaColor:e,isDarkCurrent:o,pickerUpdate:r}),r&&p.props.onChanged())},p.setDraggingColor=function(e,r){var t=e.a,o=p.convertColor(e),n=qe.isDark(e);p.color!=o.value&&(p.color=o.value,p.rgbaColor=e,p.props.embed||(p.ref.wrapper.style.background=o.value),0==p.props.pickerStyle?n?p.ref.picker.majorPicker.dragger.classList.add("cdp-dark"):p.ref.picker.majorPicker.dragger.classList.remove("cdp-dark"):n?p.ref.picker.minorPicker.dragger.classList.add("cdp-dark"):p.ref.picker.minorPicker.dragger.classList.remove("cdp-dark"),p.props.allowOpacity&&(n||t<.25?p.ref.picker.opacityPicker.dragger.classList.add("cdp-dark"):p.ref.picker.opacityPicker.dragger.classList.remove("cdp-dark")),p.ref.currentColorConsole&&(p.ref.currentColorConsole.style.background=o.value,p.ref.colorInput&&(p.ref.colorInput.value=o.value,n||t<.4?p.ref.colorInput.classList.add("cdp-dark"):p.ref.colorInput.classList.remove("cdp-dark")),p.ref.clearColor&&(n||t<.4?p.ref.clearColor.classList.add("cdp-dark"):p.ref.clearColor.classList.remove("cdp-dark"))),r&&p.props.onChanged())},p.clearColor=function(){if(p.state.color){var e={r:255,g:255,b:255,a:1};p.color=null,p.rgbaColor=e,p.setState({color:null,rgbaColor:e,isDarkCurrent:!0,pickerUpdate:!0}),p.props.onChanged()}},p.setInitialColorAsColor=function(){if(p.state.color!=p.state.initialColor)if(p.state.initialColor){var e=p.getRgbaValue(p.state.initialColor);p.setColor(e)}else p.clearColor()},p.pickerUpdated=function(){p.setState({pickerUpdate:!1})},p.openPicker=function(){if(!p.state.pickerOpen&&!p.animationProcessing){if(p.animationProcessing=!0,!p.props.embed){p.ref.container.classList.add("cdp-visibility-hidden");var e=p.setPosition(),r=e.pickerRight,t=e.pickerBottom;p.ref.container.classList.remove("cdp-visibility-hidden"),p.props.embed||(window.addEventListener("resize",p.setPosition,!0),p.props.showButtons||(document.addEventListener("mousedown",p.closePicker,!0),document.addEventListener("touchstart",p.closePicker,!0)))}p.props.onOpen(),qe.opacityAnimation(p.ref.container,!0).then(function(){p.animationProcessing=!1,p.setState({pickerOpen:!0,pickerRight:r,pickerBottom:t})})}},p.togglePalette=function(){p.setState({paletteOpen:!p.state.paletteOpen})},p.get=function(){return null==p.color?{value:null}:p.convertColor(p.rgbaColor)},p.set=function(e){if(!e&&p.props.allowClearColor)p.clearColor();else if(e){var r=p.getRgbaValue(e);p.setColor(r)}else e=p.state.color},p.show=function(){p.openPicker()},p.hide=function(){p.state.pickerOpen&&p.closePicker(null,!0)},p.save=function(){p.setState({initialColor:p.state.color,isDarkInitial:p.state.rgbaColor.a<.4||p.state.isDarkCurrent}),p.props.embed||p.hide(),p.props.onSave()},p.cancel=function(){p.setInitialColorAsColor(),p.props.embed||p.hide(),p.props.onCancel()},p.ref={},p.size=p.props.size,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&!p.props.embed&&(p.size="small"),p.majorPicker={},p.minorPicker={},p.opacityPicker={},"small"==p.size?(p.majorPicker.width=125,p.majorPicker.height=125,p.minorPicker.width=20,p.minorPicker.height=125):"medium"==p.size?(p.majorPicker.width=175,p.majorPicker.height=175,p.minorPicker.width=30,p.minorPicker.height=175):(p.majorPicker.width=250,p.majorPicker.height=250,p.minorPicker.width=30,p.minorPicker.height=250),p.majorPicker.subtractedValue=9,p.minorPicker.subtractedValue=7,p.props.allowOpacity&&(p.opacityPicker.width=p.minorPicker.width,p.opacityPicker.height=p.minorPicker.height,p.opacityPicker.subtractedValue=p.minorPicker.subtractedValue),p.state={initialized:!1,pickerUpdate:!1,pickerOpen:p.props.embed,paletteOpen:!1},p.closePicker=p.closePicker.bind(p),p.setPosition=p.setPosition.bind(p),p}return w(r,e),k(r,[{key:"componentDidMount",value:function(){var e,r,t=this.props.color,o={a:1};if(this.rgbColor={},this.hslColor={},t||this.props.allowClearColor||("hex"==this.props.colorFormat?t="#FF000":"rgb"==this.props.colorFormat?t="rgb(255,0,0)":"rgba"==this.props.colorFormat?t="rgba(255,0,0,1)":"hsl"==this.props.colorFormat?t="hsl(0,100%,50%)":"hsla"==this.props.colorFormat&&(t="hsla(0,100%,50%,1)")),t){o=this.getRgbaValue(t),t=this.convertColor(o).value;var n=De.rgbTohsl(o),i=this.getRgbaValue("hsl("+n.h+", 100%, 50%)");r=qe.isDark(o),this.rgbColor=i,this.hslColor=n}else r=!0,this.rgbColor={r:255,g:0,b:0},this.hslColor={h:0,s:0,l:0};e=t,this.color=t,this.rgbaColor=o,this.setState({initialized:!0,color:t,initialColor:e,rgbaColor:o,isDarkCurrent:r,isDarkInitial:o.a<.4||r})}},{key:"componentDidUpdate",value:function(e,r){this.state.initialized&&!r.initialized&&(this.ref.currentColorConsole=this.ref.container.querySelector(".cdp-current-color-console"),this.ref.colorInput=this.ref.container.querySelector(".cdp-current-color"),this.ref.clearColor=this.ref.container.querySelector(".cdp-clear-color"))}},{key:"closePicker",value:function(e){var r=this,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];(e&&!this.ref.container.contains(e.target)||t)&&!this.animationProcessing&&(this.animationProcessing=!0,this.props.embed||(window.removeEventListener("resize",this.setPosition,!0),this.props.showButtons||(document.removeEventListener("mousedown",this.closePicker,!0),document.removeEventListener("touchstart",this.closePicker,!0))),this.props.onClose(),qe.opacityAnimation(this.ref.container,!1).then(function(){r.animationProcessing=!1,r.setState({pickerOpen:!1})}))}},{key:"setPosition",value:function(){var e=this.ref.main.getBoundingClientRect(),r=e.left+window.pageXOffset,t=e.top+window.pageYOffset,o=r+this.ref.container.offsetWidth+10,n=r-this.ref.container.offsetWidth,i=t+this.ref.container.offsetHeight+40,a=t-(this.ref.container.offsetHeight+10),s=window.innerWidth+window.pageXOffset,l=window.innerHeight+window.pageYOffset,c=!1,p=!1;return s<=o&&0<n?(this.ref.container.classList.add("cdp-right"),c=!0):this.ref.container.classList.remove("cdp-right"),l<=i&&0<a?(this.ref.container.classList.add("cdp-bottom"),p=!0):this.ref.container.classList.remove("cdp-bottom"),{pickerRight:c,pickerBottom:p}}},{key:"render",value:function(){var r=this;if(!this.state.initialized)return ce.createElement("div",{ref:function(e){return r.ref.rgbaColor=e},key:!1,className:"cdp-hidden"});var e=ce.createElement("div",{ref:function(e){return r.ref.rgbaColor=e},className:"cdp-hidden"}),t=ce.createElement(Re,{ref:function(e){return r.ref.picker=e},color:this.state.color,rgbaColor:this.state.rgbaColor,rgbColor:this.rgbColor,hslColor:this.hslColor,isDark:this.state.isDarkCurrent,pickerStyle:this.props.pickerStyle,showColorValue:this.props.showColorValue,allowOpacity:this.props.allowOpacity,majorPicker:this.majorPicker,minorPicker:this.minorPicker,opacityPicker:this.opacityPicker,setColor:this.setColor,setDraggingColor:this.setDraggingColor,getRgbaValue:this.getRgbaValue,pickerUpdate:this.state.pickerUpdate,pickerUpdated:this.pickerUpdated}),o=this.props.showColorValue||this.props.allowClearColor||this.props.showButtons?ce.createElement(Ie,{color:this.state.color,initialColor:this.state.initialColor,isDarkCurrent:this.state.isDarkCurrent,isDarkInitial:this.state.isDarkInitial,rgbaColor:this.state.rgbaColor,showColorValue:this.props.showColorValue,allowClearColor:this.props.allowClearColor,showButtons:this.props.showButtons,setColor:this.setColor,clearColor:this.clearColor,setInitialColorAsColor:this.setInitialColorAsColor,getRgbaValue:this.getRgbaValue,save:this.save,cancel:this.cancel}):"",n=this.props.showPalette?ce.createElement(Ue,{togglePalette:this.togglePalette}):"",i=this.props.showPalette?ce.createElement(We,{color:this.state.color,rgbaColor:this.state.rgbaColor,paletteColors:this.props.paletteColors,allowPaletteAddColor:this.props.allowPaletteAddColor,getRgbaValue:this.getRgbaValue,setColor:this.setColor,paletteOpen:this.state.paletteOpen}):"";return this.props.embed?ce.createElement("div",{ref:function(e){return r.ref.container=e},className:"cdp-container","cdp-size":this.size},e,t,o,n,i):ce.createElement("div",{ref:function(e){return r.ref.main=e},className:"cdp-wrapper cdp-background-type-opacity",onClick:this.openPicker},ce.createElement("div",{ref:function(e){return r.ref.wrapper=e},className:"cdp-wrapper-overlay",style:{background:this.state.color}},ce.createElement("div",{ref:function(e){return r.ref.container=e},className:"cdp-container "+(this.state.pickerOpen?"":"cdp-hidden")+" "+(this.state.pickerRight?"cdp-right":"")+" "+(this.state.pickerBottom?"cdp-bottom":""),"cdp-size":this.size},e,t,o,n,i)))}}]),r}(ce.Component);return Ye.propTypes={size:Ee.oneOf(["small","medium","large"]),embed:Ee.bool,pickerStyle:Ee.oneOf([0,1]),allowOpacity:Ee.bool,allowClearColor:Ee.bool,showColorValue:Ee.bool,colorFormat:Ee.oneOf(["hex","rgb","rgba","hsl","hsla"]),color:Ee.string,showButtons:Ee.bool,showPalette:Ee.bool,paletteColors:Ee.array,allowPaletteAddColor:Ee.bool,onOpen:Ee.func,onClose:Ee.func,onSave:Ee.func,onCancel:Ee.func,onChanged:Ee.func},Ye.defaultProps={size:"medium",embed:!0,pickerStyle:0,allowOpacity:!0,allowClearColor:!1,showColorValue:!0,colorFormat:"hex",color:"#FF0000",showButtons:!0,showPalette:!0,paletteColors:["#FFFFB5","#FBBD87","#F45151","#7AEA89","#91C8E7","#8EB4E6","#B0A7F1"],allowPaletteAddColor:!0,onOpen:function(){},onClose:function(){},onSave:function(){},onCancel:function(){},onChanged:function(){}},Ye});